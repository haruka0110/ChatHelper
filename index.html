<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Chat Helper</title>
    <!-- 引入 Pico.css 提供漂亮樣式 -->
    <link
      rel="stylesheet"
      href="https://unpkg.com/@picocss/pico@latest/css/pico.min.css"
    />
    <!-- 自訂 CSS -->
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <main class="container flex col border-box">
      <div class="editor-actions flex-0 flex-between">
        <div class="flex gap-1">
          <button class="btn" id="addAction">::::</button>
          <button class="btn" id="addActionStar">*()*</button>
          <button class="btn" id="addQuotation">「」</button>
          <button class="btn" id="addEllipsis">⋯⋯</button>
        </div>
        <div class="flex gap-1">
          <div class="desktop">
            <div class="flex gap-1 counter-actions" id="desktopCounterActions">
              <div class="left-quotation"></div>
              <button class="btn" id="desktopCounterMinus">-</button>
              <button class="btn" id="desktopCounterAdd">+</button>
              <div class="right-quotation"></div>
            </div>
          </div>
          <details id="editorActionDropdown" class="dropdown">
            <summary class="btn secondary" role="button">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
                class="lucide lucide-wrench-icon lucide-wrench"
              >
                <path
                  d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"
                />
              </svg>
            </summary>
            <ul class="dropdown-menu">
              <li id="copy"><a href="#">複製</a></li>
              <li id="save"><a href="#">暫存</a></li>
              <li id="load"><a href="#">讀取</a></li>
              <li id="clear"><a href="#">清空</a></li>
              <li id="setCounter"><a href="#">設定計數</a></li>
            </ul>
          </details>
        </div>
      </div>
      <div class="mobile">
        <div class="cursor-controls flex-between">
          <div class="flex gap-1">
            <button class="btn" id="cursorLeft">←</button>
            <button class="btn" id="cursorUp">↑</button>
          </div>
          <div class="flex gap-1 counter-actions" id="mobileCounterActions">
            <div class="left-quotation"></div>
            <button class="btn" id="mobileCounterMinus">-</button>
            <button class="btn" id="mobileCounterAdd">+</button>
            <div class="right-quotation"></div>
          </div>
          <div class="flex gap-1">
            <button class="btn" id="cursorDown">↓</button>
            <button class="btn" id="cursorRight">→</button>
          </div>
        </div>
      </div>
      <div class="grow-1 flex col">
        <div class="character-label top-rounded" id="characterLabel">[0]</div>
        <div class="grow-1 flex">
          <textarea class="grow-1 top-not-rounded" id="editor"></textarea>
          <div class="flex col flex-between editor-scroll">
            <button class="btn" id="editorScrollUp">↑</button>
            <button class="btn" id="editorScrollDown">↓</button>
          </div>
        </div>
      </div>
      <div class="flex-between gap-1 footer">
        <div>
          <button id="toggleCounting" class="check-button checked">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="lucide lucide-check-icon lucide-check"
            >
              <path d="M20 6 9 17l-5-5" />
            </svg>
            計數
          </button>
          <button id="toggleCharacterLabel" class="check-button checked">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="lucide lucide-check-icon lucide-check"
            >
              <path d="M20 6 9 17l-5-5" />
            </svg>
            名稱
          </button>
        </div>
        <button id="setName" class="outline secondary flex flex-center gap-1">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
            class="lucide lucide-user-icon lucide-user"
          >
            <path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2" />
            <circle cx="12" cy="7" r="4" />
          </svg>
          <span id="setNameText"></span>
        </button>
      </div>
    </main>
    <div id="toast" class="toast hidden">已複製到剪貼簿！</div>
    <div id="saveIndicator" class="save-indicator"></div>
    <!-- 引入 Cash DOM CDN -->
    <script src="https://unpkg.com/cash-dom/dist/cash.min.js"></script>
    <!-- 自訂 JS -->
    <script type="module" src="main.js"></script>
  </body>
</html>
